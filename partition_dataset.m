function [training, validation, test] = partition_dataset(X, Y)
    N = size(X, 1);
    shuffled_indices = randperm(N);
    
    training_indices = shuffled_indices(1:floor(0.5*N));
    training = struct( ...
        'X', X(training_indices, :), ...
        'Y', Y(training_indices, :) ...
    );
    
    validation_indices = shuffled_indices(ceil(0.5*N): floor(0.75*N));
    validation = struct( ...
        'X', X(validation_indices, :), ...
        'Y', Y(validation_indices, :) ...
    );

    test_indices = shuffled_indices(ceil(0.75*N:N));
    test = struct( ...
        'X', X(test_indices, :), ...
        'Y', Y(test_indices, :) ...
    );
end
